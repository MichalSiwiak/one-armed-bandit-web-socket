2019-08-09 16:18:22.020 [INFO] [] c.e.OneArmedBanditSpringBootApplication Starting OneArmedBanditSpringBootApplication on EFUN61 with PID 23320 (D:\Projects\one-armed-bandit-web-socket\target\classes started by msiwiak in D:\Projects\one-armed-bandit-web-socket) [23320] [main]
2019-08-09 16:18:22.022 [INFO] [] c.e.OneArmedBanditSpringBootApplication No active profile set, falling back to default profiles: default [23320] [main]
2019-08-09 16:18:22.519 [INFO] [] o.s.d.r.c.RepositoryConfigurationDelegate Bootstrapping Spring Data repositories in DEFAULT mode. [23320] [main]
2019-08-09 16:18:22.581 [INFO] [] o.s.d.r.c.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 58ms. Found 3 repository interfaces. [23320] [main]
2019-08-09 16:18:22.915 [INFO] [] o.s.b.w.e.t.TomcatWebServer Tomcat initialized with port(s): 8090 (http) [23320] [main]
2019-08-09 16:18:22.925 [INFO] [] o.a.c.h.Http11NioProtocol Initializing ProtocolHandler ["http-nio-8090"] [23320] [main]
2019-08-09 16:18:22.931 [INFO] [] o.a.c.c.StandardService Starting service [Tomcat] [23320] [main]
2019-08-09 16:18:22.931 [INFO] [] o.a.c.c.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.21] [23320] [main]
2019-08-09 16:18:23.024 [INFO] [] o.a.c.c.C.[.[.[/] Initializing Spring embedded WebApplicationContext [23320] [main]
2019-08-09 16:18:23.024 [INFO] [] o.s.w.c.ContextLoader Root WebApplicationContext: initialization completed in 972 ms [23320] [main]
2019-08-09 16:18:23.458 [INFO] [] o.m.d.cluster Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500} [23320] [main]
2019-08-09 16:18:23.458 [INFO] [] o.m.d.cluster Adding discovered server localhost:27017 to client view of cluster [23320] [main]
2019-08-09 16:18:23.497 [INFO] [] o.m.d.connection Opened connection [connectionId{localValue:1, serverValue:1217}] to localhost:27017 [23320] [cluster-ClusterId{value='5d4d80af1494405f1b8fb7e5', description='null'}-localhost:27017]
2019-08-09 16:18:23.501 [INFO] [] o.m.d.cluster Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 10]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2052500} [23320] [cluster-ClusterId{value='5d4d80af1494405f1b8fb7e5', description='null'}-localhost:27017]
2019-08-09 16:18:23.501 [INFO] [] o.m.d.cluster Discovered cluster type of STANDALONE [23320] [cluster-ClusterId{value='5d4d80af1494405f1b8fb7e5', description='null'}-localhost:27017]
2019-08-09 16:18:23.806 [INFO] [] o.s.s.c.ThreadPoolTaskExecutor Initializing ExecutorService 'clientInboundChannelExecutor' [23320] [main]
2019-08-09 16:18:23.809 [INFO] [] o.s.s.c.ThreadPoolTaskExecutor Initializing ExecutorService 'clientOutboundChannelExecutor' [23320] [main]
2019-08-09 16:18:23.812 [INFO] [] o.s.s.c.ThreadPoolTaskScheduler Initializing ExecutorService 'messageBrokerTaskScheduler' [23320] [main]
2019-08-09 16:18:23.836 [INFO] [] o.s.s.c.ThreadPoolTaskExecutor Initializing ExecutorService 'brokerChannelExecutor' [23320] [main]
2019-08-09 16:18:24.061 [INFO] [] o.s.m.s.b.SimpleBrokerMessageHandler Starting... [23320] [main]
2019-08-09 16:18:24.062 [INFO] [] o.s.m.s.b.SimpleBrokerMessageHandler BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]] [23320] [main]
2019-08-09 16:18:24.062 [INFO] [] o.s.m.s.b.SimpleBrokerMessageHandler Started. [23320] [main]
2019-08-09 16:18:24.067 [INFO] [] o.a.c.h.Http11NioProtocol Starting ProtocolHandler ["http-nio-8090"] [23320] [main]
2019-08-09 16:18:24.086 [INFO] [] o.s.b.w.e.t.TomcatWebServer Tomcat started on port(s): 8090 (http) with context path '' [23320] [main]
2019-08-09 16:18:24.087 [INFO] [] c.e.OneArmedBanditSpringBootApplication Started OneArmedBanditSpringBootApplication in 2.369 seconds (JVM running for 3.145) [23320] [main]
2019-08-09 16:19:12.433 [INFO] [] o.a.c.c.C.[.[.[/] Initializing Spring DispatcherServlet 'dispatcherServlet' [23320] [http-nio-8090-exec-1]
2019-08-09 16:19:12.433 [INFO] [] o.s.w.s.DispatcherServlet Initializing Servlet 'dispatcherServlet' [23320] [http-nio-8090-exec-1]
2019-08-09 16:19:12.438 [INFO] [] o.s.w.s.DispatcherServlet Completed initialization in 5 ms [23320] [http-nio-8090-exec-1]
2019-08-09 16:19:22.382 [INFO] [] c.e.w.GameController Init params InitParams{winLinesSelected=[1, 2, 3, 4, 5, 6], reelsSelected=[0, 1, 2]} [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.386 [INFO] [] c.e.s.MessageProviderService Found combination [D2490F048DC3B77A457E3E450AB4EB38] of reels: [0, 1, 2] [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.386 [INFO] [] c.e.s.MessageProviderService Calculated Periodicity=2436 [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.455 [INFO] [] o.m.d.connection Opened connection [connectionId{localValue:2, serverValue:1218}] to localhost:27017 [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.573 [INFO] [] c.e.s.MessageProviderService Found number of possible cyclical winnings=116 [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.574 [INFO] [] c.e.s.MessageProviderService Generated authorization=CACA61410CFAEE279BCB6FE59EDD4CED [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.574 [INFO] [] c.e.s.MessageProviderService The random RNO is=410 [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.574 [INFO] [] c.e.s.MessageProviderService Game configured successfully [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.575 [INFO] [] c.e.s.MessageProviderService Full response: Message{status=NEW, gameId='5BAB510D0D471297CE2555573D10936D', authorizationToken='CACA61410CFAEE279BCB6FE59EDD4CED', rno=410, message='Game configured successfully', winLineData=WinLineData{quantity=6, winLineList=[WinLine{index=1, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=2, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=3, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=4, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=5, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=6, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}]}, symbols=null, winValue=null, balance=5000, activeWinLines=[1, 2, 3, 4, 5, 6], activeReels=[0, 1, 2], win=false, totalWinInSpin=null, periodicity=2436} [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.575 [INFO] [] c.e.w.GameController Message sent to client [Start Game] [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.575 [INFO] [] c.e.w.GameController Saving changes to mongo database ... [23320] [clientInboundChannel-1]
2019-08-09 16:19:22.596 [INFO] [] c.e.w.GameController Inserted new record [23320] [clientInboundChannel-1]
2019-08-09 16:19:23.835 [INFO] [] o.s.w.s.c.WebSocketMessageBrokerStats WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 18], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 2, completed tasks = 2] [23320] [MessageBroker-2]
2019-08-09 16:19:25.713 [INFO] [] c.e.w.GameController Spin params SpinParams{rno=411, bet='100', authorizationToken='CACA61410CFAEE279BCB6FE59EDD4CED', gameId='5BAB510D0D471297CE2555573D10936D'} [23320] [clientInboundChannel-9]
2019-08-09 16:19:25.714 [INFO] [] c.e.s.MessageProviderService Spin was started ...  [23320] [clientInboundChannel-9]
2019-08-09 16:19:25.714 [INFO] [] c.e.s.MessageProviderService Getting RandomNumberResult from database RNO=411 [23320] [clientInboundChannel-9]
2019-08-09 16:19:25.721 [INFO] [] c.e.s.MessageProviderService Spin executed successfully RNO=411 Win=300.0 [23320] [clientInboundChannel-9]
2019-08-09 16:19:25.721 [INFO] [] c.e.s.MessageProviderService Full response: Message{status=ACTIVE, gameId='5BAB510D0D471297CE2555573D10936D', authorizationToken='null', rno=411, message='Spin executed successfully', winLineData=WinLineData{quantity=6, winLineList=[WinLine{index=1, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=2, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=3, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=4, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=5, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=6, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}]}, symbols=[[0, 2, 2], [0, 0, 2], [5, 5, 2]], winValue=300.0, balance=5200.0, activeWinLines=null, activeReels=null, win=true, totalWinInSpin=TotalWinInSpin{totalMultiply=3.0, resultWinList=[ResultWin{index=2, multiply=1, reels=3, equalValues=[2, 2, 2], indexes=[2, 5, 8]}]}, periodicity=0} [23320] [clientInboundChannel-9]
2019-08-09 16:19:25.721 [INFO] [] c.e.w.GameController Message sent to client [Spin] [23320] [clientInboundChannel-9]
2019-08-09 16:19:25.723 [INFO] [] c.e.w.GameController Saving changes to mongo database ... [23320] [clientInboundChannel-9]
2019-08-09 16:19:25.730 [INFO] [] c.e.w.GameController Changes saved of spin [23320] [clientInboundChannel-9]
2019-08-09 16:19:26.425 [INFO] [] c.e.w.GameController Spin params SpinParams{rno=412, bet='100', authorizationToken='CACA61410CFAEE279BCB6FE59EDD4CED', gameId='5BAB510D0D471297CE2555573D10936D'} [23320] [clientInboundChannel-8]
2019-08-09 16:19:26.425 [INFO] [] c.e.s.MessageProviderService Spin was started ...  [23320] [clientInboundChannel-8]
2019-08-09 16:19:26.425 [INFO] [] c.e.s.MessageProviderService Getting RandomNumberResult from database RNO=412 [23320] [clientInboundChannel-8]
2019-08-09 16:19:26.428 [INFO] [] c.e.s.MessageProviderService Spin executed successfully RNO=412 Win=0 [23320] [clientInboundChannel-8]
2019-08-09 16:19:26.429 [INFO] [] c.e.s.MessageProviderService Full response: Message{status=ACTIVE, gameId='5BAB510D0D471297CE2555573D10936D', authorizationToken='null', rno=412, message='Spin executed successfully', winLineData=WinLineData{quantity=6, winLineList=[WinLine{index=1, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=2, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=3, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=4, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=5, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=6, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}]}, symbols=[[4, 5, 6], [5, 4, 3], [6, 6, 5]], winValue=0, balance=5100.0, activeWinLines=null, activeReels=null, win=false, totalWinInSpin=TotalWinInSpin{totalMultiply=0, resultWinList=[]}, periodicity=0} [23320] [clientInboundChannel-8]
2019-08-09 16:19:26.429 [INFO] [] c.e.w.GameController Message sent to client [Spin] [23320] [clientInboundChannel-8]
2019-08-09 16:19:26.430 [INFO] [] c.e.w.GameController Saving changes to mongo database ... [23320] [clientInboundChannel-8]
2019-08-09 16:19:26.433 [INFO] [] c.e.w.GameController Changes saved of spin [23320] [clientInboundChannel-8]
2019-08-09 16:19:27.185 [INFO] [] c.e.w.GameController Spin params SpinParams{rno=413, bet='100', authorizationToken='CACA61410CFAEE279BCB6FE59EDD4CED', gameId='5BAB510D0D471297CE2555573D10936D'} [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.185 [INFO] [] c.e.s.MessageProviderService Spin was started ...  [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.185 [INFO] [] c.e.s.MessageProviderService Getting RandomNumberResult from database RNO=413 [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.188 [INFO] [] c.e.s.MessageProviderService Spin executed successfully RNO=413 Win=0 [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.188 [INFO] [] c.e.s.MessageProviderService Full response: Message{status=ACTIVE, gameId='5BAB510D0D471297CE2555573D10936D', authorizationToken='null', rno=413, message='Spin executed successfully', winLineData=WinLineData{quantity=6, winLineList=[WinLine{index=1, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=2, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=3, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=4, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=5, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=6, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}]}, symbols=[[1, 1, 1], [4, 7, 7], [2, 2, 6]], winValue=0, balance=5000.0, activeWinLines=null, activeReels=null, win=false, totalWinInSpin=TotalWinInSpin{totalMultiply=0, resultWinList=[]}, periodicity=0} [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.188 [INFO] [] c.e.w.GameController Message sent to client [Spin] [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.190 [INFO] [] c.e.w.GameController Saving changes to mongo database ... [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.192 [INFO] [] c.e.w.GameController Changes saved of spin [23320] [clientInboundChannel-6]
2019-08-09 16:19:27.874 [INFO] [] c.e.w.GameController Spin params SpinParams{rno=414, bet='100', authorizationToken='CACA61410CFAEE279BCB6FE59EDD4CED', gameId='5BAB510D0D471297CE2555573D10936D'} [23320] [clientInboundChannel-11]
2019-08-09 16:19:27.874 [INFO] [] c.e.s.MessageProviderService Spin was started ...  [23320] [clientInboundChannel-11]
2019-08-09 16:19:27.874 [INFO] [] c.e.s.MessageProviderService Getting RandomNumberResult from database RNO=414 [23320] [clientInboundChannel-11]
2019-08-09 16:19:27.877 [INFO] [] c.e.s.MessageProviderService Spin executed successfully RNO=414 Win=0 [23320] [clientInboundChannel-11]
2019-08-09 16:19:27.877 [INFO] [] c.e.s.MessageProviderService Full response: Message{status=ACTIVE, gameId='5BAB510D0D471297CE2555573D10936D', authorizationToken='null', rno=414, message='Spin executed successfully', winLineData=WinLineData{quantity=6, winLineList=[WinLine{index=1, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=2, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=3, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=4, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=5, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}, WinLine{index=6, reels=3, positions=[[0, 3, 6], [1, 4, 7], [2, 5, 8]], multiply=1}]}, symbols=[[3, 1, 1], [2, 2, 1], [3, 4, 5]], winValue=0, balance=4900.0, activeWinLines=null, activeReels=null, win=false, totalWinInSpin=TotalWinInSpin{totalMultiply=0, resultWinList=[]}, periodicity=0} [23320] [clientInboundChannel-11]
2019-08-09 16:19:27.877 [INFO] [] c.e.w.GameController Message sent to client [Spin] [23320] [clientInboundChannel-11]
2019-08-09 16:19:27.878 [INFO] [] c.e.w.GameController Saving changes to mongo database ... [23320] [clientInboundChannel-11]
2019-08-09 16:19:27.880 [INFO] [] c.e.w.GameController Changes saved of spin [23320] [clientInboundChannel-11]
2019-08-09 16:19:41.627 [INFO] [] o.s.m.s.b.SimpleBrokerMessageHandler Stopping... [23320] [Thread-7]
2019-08-09 16:19:41.627 [INFO] [] o.s.m.s.b.SimpleBrokerMessageHandler BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]] [23320] [Thread-7]
2019-08-09 16:19:41.627 [INFO] [] o.s.m.s.b.SimpleBrokerMessageHandler Stopped. [23320] [Thread-7]
2019-08-09 16:19:41.628 [INFO] [] o.s.s.c.ThreadPoolTaskExecutor Shutting down ExecutorService 'brokerChannelExecutor' [23320] [Thread-7]
2019-08-09 16:19:41.628 [INFO] [] o.s.s.c.ThreadPoolTaskScheduler Shutting down ExecutorService 'messageBrokerTaskScheduler' [23320] [Thread-7]
2019-08-09 16:19:41.628 [INFO] [] o.s.s.c.ThreadPoolTaskExecutor Shutting down ExecutorService 'clientOutboundChannelExecutor' [23320] [Thread-7]
2019-08-09 16:19:41.629 [INFO] [] o.s.s.c.ThreadPoolTaskExecutor Shutting down ExecutorService 'clientInboundChannelExecutor' [23320] [Thread-7]
2019-08-09 16:19:41.633 [INFO] [] o.m.d.connection Closed connection [connectionId{localValue:2, serverValue:1218}] to localhost:27017 because the pool has been closed. [23320] [Thread-7]
